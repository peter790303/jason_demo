!function(){"use strict";function t(t,e){return t(e={exports:{}},e.exports),e.exports}var e=t(function(t){!function(e){var n,o=Object.prototype,i=o.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",c=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag",l=e.regeneratorRuntime;if(l)t.exports=l;else{(l=e.regeneratorRuntime=t.exports).wrap=m;var u="suspendedStart",h="suspendedYield",p="executing",d="completed",f={},_={};_[a]=function(){return this};var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==o&&i.call(g,a)&&(_=g);var y=x.prototype=b.prototype=Object.create(_);w.prototype=y.constructor=x,x.constructor=w,x[s]=w.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(y),t},l.awrap=function(t){return{__await:t}},E(P.prototype),P.prototype[c]=function(){return this},l.AsyncIterator=P,l.async=function(t,e,n,o){var i=new P(m(t,e,n,o));return l.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},E(y),y[s]="Generator",y[a]=function(){return this},y.toString=function(){return"[object Generator]"},l.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},l.values=C,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(o,i){return c.type="throw",c.arg=t,e.next=o,i&&(e.method="next",e.arg=n),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),l=i.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=e,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,o){return this.delegate={iterator:C(t),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=n),f}}}function m(t,e,n,o){var i,r,a,c,s=e&&e.prototype instanceof b?e:b,l=Object.create(s.prototype),_=new j(o||[]);return l._invoke=(i=t,r=n,a=_,c=u,function(t,e){if(c===p)throw new Error("Generator is already running");if(c===d){if("throw"===t)throw e;return L()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){var o=T(n,a);if(o){if(o===f)continue;return o}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(c===u)throw c=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c=p;var s=k(i,r,a);if("normal"===s.type){if(c=a.done?d:h,s.arg===f)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(c=d,a.method="throw",a.arg=s.arg)}}),l}function k(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function w(){}function x(){}function E(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function P(t){var e;this._invoke=function(n,o){function r(){return new Promise(function(e,r){!function e(n,o,r,a){var c=k(t[n],t,o);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):Promise.resolve(l).then(function(t){s.value=t,r(s)},a)}a(c.arg)}(n,o,e,r)})}return e=e?e.then(r,r):r()}}function T(t,e){var o=t.iterator[e.method];if(o===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,T(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var i=k(o,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,f;var r=i.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,f):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,r=function e(){for(;++o<t.length;)if(i.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return r.next=r}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())}),n=function(){return this}()||Function("return this")(),o=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,i=o&&n.regeneratorRuntime;n.regeneratorRuntime=void 0;var r=e;if(o)n.regeneratorRuntime=i;else try{delete n.regeneratorRuntime}catch(t){n.regeneratorRuntime=void 0}var a=r,c=Math.ceil,s=Math.floor,l=function(t){return isNaN(t=+t)?0:(t>0?s:c)(t)},u=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},h=t(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),p=t(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)}),d=(p.version,function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}),f=function(t,e,n){if(d(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,i){return t.call(e,n,o,i)}}return function(){return t.apply(e,arguments)}},_=function(t){return"object"==typeof t?null!==t:"function"==typeof t},v=function(t){if(!_(t))throw TypeError(t+" is not an object!");return t},g=function(t){try{return!!t()}catch(t){return!0}},y=!g(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),m=h.document,k=_(m)&&_(m.createElement),b=function(t){return k?m.createElement(t):{}},w=!y&&!g(function(){return 7!=Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a}),x=function(t,e){if(!_(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!_(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!_(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!_(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")},E=Object.defineProperty,P={f:y?Object.defineProperty:function(t,e,n){if(v(t),e=x(e,!0),v(n),w)try{return E(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},T=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},S=y?function(t,e,n){return P.f(t,e,T(1,n))}:function(t,e,n){return t[e]=n,t},O="prototype",j=function(t,e,n){var o,i,r,a=t&j.F,c=t&j.G,s=t&j.S,l=t&j.P,u=t&j.B,d=t&j.W,_=c?p:p[e]||(p[e]={}),v=_[O],g=c?h:s?h[e]:(h[e]||{})[O];c&&(n=e);for(o in n)(i=!a&&g&&void 0!==g[o])&&o in _||(r=i?g[o]:n[o],_[o]=c&&"function"!=typeof g[o]?n[o]:u&&i?f(r,h):d&&g[o]==r?function(t){var e=function(e,n,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,o)}return t.apply(this,arguments)};return e[O]=t[O],e}(r):l&&"function"==typeof r?f(Function.call,r):r,l&&((_.virtual||(_.virtual={}))[o]=r,t&j.R&&v&&!v[o]&&S(v,o,r)))};j.F=1,j.G=2,j.S=4,j.P=8,j.B=16,j.W=32,j.U=64,j.R=128;var C,L=j,A=S,N={}.hasOwnProperty,D=function(t,e){return N.call(t,e)},B={},H={}.toString,M=function(t){return H.call(t).slice(8,-1)},R=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==M(t)?t.split(""):Object(t)},I=function(t){return R(u(t))},G=Math.min,z=function(t){return t>0?G(l(t),9007199254740991):0},F=Math.max,q=Math.min,W="__core-js_shared__",Z=h[W]||(h[W]={}),Y=function(t){return Z[t]||(Z[t]={})},U=0,K=Math.random(),V=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++U+K).toString(36))},J=Y("keys"),$=function(t){return J[t]||(J[t]=V(t))},X=(C=!1,function(t,e,n){var o,i,r,a=I(t),c=z(a.length),s=(i=c,(o=l(o=n))<0?F(o+i,0):q(o,i));if(C&&e!=e){for(;c>s;)if((r=a[s++])!=r)return!0}else for(;c>s;s++)if((C||s in a)&&a[s]===e)return C||s||0;return!C&&-1}),Q=$("IE_PROTO"),tt=function(t,e){var n,o=I(t),i=0,r=[];for(n in o)n!=Q&&D(o,n)&&r.push(n);for(;e.length>i;)D(o,n=e[i++])&&(~X(r,n)||r.push(n));return r},et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),nt=Object.keys||function(t){return tt(t,et)},ot=y?Object.defineProperties:function(t,e){v(t);for(var n,o=nt(e),i=o.length,r=0;i>r;)P.f(t,n=o[r++],e[n]);return t},it=h.document,rt=it&&it.documentElement,at=$("IE_PROTO"),ct=function(){},st="prototype",lt=function(){var t,e=b("iframe"),n=et.length;for(e.style.display="none",rt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),lt=t.F;n--;)delete lt[st][et[n]];return lt()},ut=Object.create||function(t,e){var n;return null!==t?(ct[st]=v(t),n=new ct,ct[st]=null,n[at]=t):n=lt(),void 0===e?n:ot(n,e)},ht=t(function(t){var e=Y("wks"),n=h.Symbol,o="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=o&&n[t]||(o?n:V)("Symbol."+t))}).store=e}),pt=P.f,dt=ht("toStringTag"),ft=function(t,e,n){t&&!D(t=n?t:t.prototype,dt)&&pt(t,dt,{configurable:!0,value:e})},_t={};S(_t,ht("iterator"),function(){return this});var vt,gt=function(t){return Object(u(t))},yt=$("IE_PROTO"),mt=Object.prototype,kt=Object.getPrototypeOf||function(t){return t=gt(t),D(t,yt)?t[yt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?mt:null},bt=ht("iterator"),wt=!([].keys&&"next"in[].keys()),xt="values",Et=function(){return this},Pt=function(t,e,n,o,i,r,a){var c,s,l;s=e,l=o,(c=n).prototype=ut(_t,{next:T(1,l)}),ft(c,s+" Iterator");var u,h,p,d=function(t){if(!wt&&t in g)return g[t];switch(t){case"keys":case xt:return function(){return new n(this,t)}}return function(){return new n(this,t)}},f=e+" Iterator",_=i==xt,v=!1,g=t.prototype,y=g[bt]||g["@@iterator"]||i&&g[i],m=!wt&&y||d(i),k=i?_?d("entries"):m:void 0,b="Array"==e&&g.entries||y;if(b&&(p=kt(b.call(new t)))!==Object.prototype&&p.next&&ft(p,f,!0),_&&y&&y.name!==xt&&(v=!0,m=function(){return y.call(this)}),a&&(wt||v||!g[bt])&&S(g,bt,m),B[e]=m,B[f]=Et,i)if(u={values:_?m:d(xt),keys:r?m:d("keys"),entries:k},a)for(h in u)h in g||A(g,h,u[h]);else L(L.P+L.F*(wt||v),e,u);return u},Tt=(vt=!0,function(t,e){var n,o,i=String(u(t)),r=l(e),a=i.length;return r<0||r>=a?vt?"":void 0:(n=i.charCodeAt(r))<55296||n>56319||r+1===a||(o=i.charCodeAt(r+1))<56320||o>57343?vt?i.charAt(r):n:vt?i.slice(r,r+2):o-56320+(n-55296<<10)+65536});Pt(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=Tt(e,n),this._i+=t.length,{value:t,done:!1})});var St=function(t,e){return{value:e,done:!!t}};Pt(Array,"Array",function(t,e){this._t=I(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,St(1)):St(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");B.Arguments=B.Array;for(var Ot=ht("toStringTag"),jt="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),Ct=0;Ct<jt.length;Ct++){var Lt=jt[Ct],At=h[Lt],Nt=At&&At.prototype;Nt&&!Nt[Ot]&&S(Nt,Ot,Lt),B[Lt]=B.Array}var Dt,Bt,Ht,Mt=ht("toStringTag"),Rt="Arguments"==M(function(){return arguments}()),It=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Mt))?n:Rt?M(e):"Object"==(o=M(e))&&"function"==typeof e.callee?"Arguments":o},Gt=function(t,e,n,o){try{return o?e(v(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&v(i.call(t)),e}},zt=ht("iterator"),Ft=Array.prototype,qt=function(t){return void 0!==t&&(B.Array===t||Ft[zt]===t)},Wt=ht("iterator"),Zt=p.getIteratorMethod=function(t){if(void 0!=t)return t[Wt]||t["@@iterator"]||B[It(t)]},Yt=t(function(t){var e={},n={},o=t.exports=function(t,o,i,r,a){var c,s,l,u,h=a?function(){return t}:Zt(t),p=f(i,r,o?2:1),d=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(qt(h)){for(c=z(t.length);c>d;d++)if((u=o?p(v(s=t[d])[0],s[1]):p(t[d]))===e||u===n)return u}else for(l=h.call(t);!(s=l.next()).done;)if((u=Gt(l,p,s.value,o))===e||u===n)return u};o.BREAK=e,o.RETURN=n}),Ut=ht("species"),Kt=function(t,e){var n,o=v(t).constructor;return void 0===o||void 0==(n=v(o)[Ut])?e:d(n)},Vt=h.process,Jt=h.setImmediate,$t=h.clearImmediate,Xt=h.MessageChannel,Qt=h.Dispatch,te=0,ee={},ne="onreadystatechange",oe=function(){var t=+this;if(ee.hasOwnProperty(t)){var e=ee[t];delete ee[t],e()}},ie=function(t){oe.call(t.data)};Jt&&$t||(Jt=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return ee[++te]=function(){!function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}t.apply(n,e)}("function"==typeof t?t:Function(t),e)},Dt(te),te},$t=function(t){delete ee[t]},"process"==M(Vt)?Dt=function(t){Vt.nextTick(f(oe,t,1))}:Qt&&Qt.now?Dt=function(t){Qt.now(f(oe,t,1))}:Xt?(Ht=(Bt=new Xt).port2,Bt.port1.onmessage=ie,Dt=f(Ht.postMessage,Ht,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(Dt=function(t){h.postMessage(t+"","*")},h.addEventListener("message",ie,!1)):Dt=ne in b("script")?function(t){rt.appendChild(b("script"))[ne]=function(){rt.removeChild(this),oe.call(t)}}:function(t){setTimeout(f(oe,t,1),0)});var re={set:Jt,clear:$t},ae=re.set,ce=h.MutationObserver||h.WebKitMutationObserver,se=h.process,le=h.Promise,ue="process"==M(se);var he={f:function(t){return new function(t){var e,n;this.promise=new t(function(t,o){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=o}),this.resolve=d(e),this.reject=d(n)}(t)}},pe=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}},de=function(t,e){if(v(t),_(e)&&e.constructor===t)return e;var n=he.f(t);return(0,n.resolve)(e),n.promise},fe=ht("species"),_e=ht("iterator"),ve=!1;try{[7][_e]().return=function(){ve=!0}}catch(t){}var ge,ye,me,ke,be,we,xe=function(t,e){if(!e&&!ve)return!1;var n=!1;try{var o=[7],i=o[_e]();i.next=function(){return{done:n=!0}},o[_e]=function(){return i},t(o)}catch(t){}return n},Ee=re.set,Pe=function(){var t,e,n,o=function(){var o,i;for(ue&&(o=se.domain)&&o.exit();t;){i=t.fn,t=t.next;try{i()}catch(o){throw t?n():e=void 0,o}}e=void 0,o&&o.enter()};if(ue)n=function(){se.nextTick(o)};else if(!ce||h.navigator&&h.navigator.standalone)if(le&&le.resolve){var i=le.resolve();n=function(){i.then(o)}}else n=function(){ae.call(h,o)};else{var r=!0,a=document.createTextNode("");new ce(o).observe(a,{characterData:!0}),n=function(){a.data=r=!r}}return function(o){var i={fn:o,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),Te="Promise",Se=h.TypeError,Oe=h.process,je=h[Te],Ce="process"==It(Oe),Le=function(){},Ae=ye=he.f,Ne=!!function(){try{var t=je.resolve(1),e=(t.constructor={})[ht("species")]=function(t){t(Le,Le)};return(Ce||"function"==typeof PromiseRejectionEvent)&&t.then(Le)instanceof e}catch(t){}}(),De=function(t){var e;return!(!_(t)||"function"!=typeof(e=t.then))&&e},Be=function(t,e){if(!t._n){t._n=!0;var n=t._c;Pe(function(){for(var o=t._v,i=1==t._s,r=0,a=function(e){var n,r,a=i?e.ok:e.fail,c=e.resolve,s=e.reject,l=e.domain;try{a?(i||(2==t._h&&Re(t),t._h=1),!0===a?n=o:(l&&l.enter(),n=a(o),l&&l.exit()),n===e.promise?s(Se("Promise-chain cycle")):(r=De(n))?r.call(n,c,s):c(n)):s(o)}catch(t){s(t)}};n.length>r;)a(n[r++]);t._c=[],t._n=!1,e&&!t._h&&He(t)})}},He=function(t){Ee.call(h,function(){var e,n,o,i=t._v,r=Me(t);if(r&&(e=pe(function(){Ce?Oe.emit("unhandledRejection",i,t):(n=h.onunhandledrejection)?n({promise:t,reason:i}):(o=h.console)&&o.error&&o.error("Unhandled promise rejection",i)}),t._h=Ce||Me(t)?2:1),t._a=void 0,r&&e.e)throw e.v})},Me=function(t){return 1!==t._h&&0===(t._a||t._c).length},Re=function(t){Ee.call(h,function(){var e;Ce?Oe.emit("rejectionHandled",t):(e=h.onrejectionhandled)&&e({promise:t,reason:t._v})})},Ie=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Be(e,!0))},Ge=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw Se("Promise can't be resolved itself");(e=De(t))?Pe(function(){var o={_w:n,_d:!1};try{e.call(t,f(Ge,o,1),f(Ie,o,1))}catch(t){Ie.call(o,t)}}):(n._v=t,n._s=1,Be(n,!1))}catch(t){Ie.call({_w:n,_d:!1},t)}}};Ne||(je=function(t){!function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!")}(this,je,Te,"_h"),d(t),ge.call(this);try{t(f(Ge,this,1),f(Ie,this,1))}catch(t){Ie.call(this,t)}},(ge=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:S(t,o,e[o]);return t}(je.prototype,{then:function(t,e){var n=Ae(Kt(this,je));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=Ce?Oe.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Be(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),me=function(){var t=new ge;this.promise=t,this.resolve=f(Ge,t,1),this.reject=f(Ie,t,1)},he.f=Ae=function(t){return t===je||t===ke?new me(t):ye(t)}),L(L.G+L.W+L.F*!Ne,{Promise:je}),ft(je,Te),we="function"==typeof p[be=Te]?p[be]:h[be],y&&we&&!we[fe]&&P.f(we,fe,{configurable:!0,get:function(){return this}}),ke=p[Te],L(L.S+L.F*!Ne,Te,{reject:function(t){var e=Ae(this);return(0,e.reject)(t),e.promise}}),L(L.S+!0*L.F,Te,{resolve:function(t){return de(this===ke?je:this,t)}}),L(L.S+L.F*!(Ne&&xe(function(t){je.all(t).catch(Le)})),Te,{all:function(t){var e=this,n=Ae(e),o=n.resolve,i=n.reject,r=pe(function(){var n=[],r=0,a=1;Yt(t,!1,function(t){var c=r++,s=!1;n.push(void 0),a++,e.resolve(t).then(function(t){s||(s=!0,n[c]=t,--a||o(n))},i)}),--a||o(n)});return r.e&&i(r.v),n.promise},race:function(t){var e=this,n=Ae(e),o=n.reject,i=pe(function(){Yt(t,!1,function(t){e.resolve(t).then(n.resolve,o)})});return i.e&&o(i.v),n.promise}}),L(L.P+L.R,"Promise",{finally:function(t){var e=Kt(this,p.Promise||h.Promise),n="function"==typeof t;return this.then(n?function(n){return de(e,t()).then(function(){return n})}:t,n?function(n){return de(e,t()).then(function(){throw n})}:t)}}),L(L.S,"Promise",{try:function(t){var e=he.f(this),n=pe(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}});var ze=p.Promise;var Fe=function(t){return function(){var e=this,n=arguments;return new ze(function(o,i){var r=t.apply(e,n);function a(t,e){try{var n=r[t](e),a=n.value}catch(t){return void i(t)}n.done?o(a):ze.resolve(a).then(c,s)}function c(t){a("next",t)}function s(t){a("throw",t)}c()})}},qe=function(t,e,n){e in t?P.f(t,e,T(0,n)):t[e]=n};L(L.S+L.F*!xe(function(t){}),"Array",{from:function(t){var e,n,o,i,r=gt(t),a="function"==typeof this?this:Array,c=arguments.length,s=c>1?arguments[1]:void 0,l=void 0!==s,u=0,h=Zt(r);if(l&&(s=f(s,c>2?arguments[2]:void 0,2)),void 0==h||a==Array&&qt(h))for(n=new a(e=z(r.length));e>u;u++)qe(n,u,l?s(r[u],u):r[u]);else for(i=h.call(r),n=new a;!(o=i.next()).done;u++)qe(n,u,l?Gt(i,s,[o.value,u],!0):o.value);return n.length=u,n}});var We=p.Array.from;var Ze=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};L(L.S+L.F*!y,"Object",{defineProperty:P.f});var Ye=p.Object,Ue=function(t,e,n){return Ye.defineProperty(t,e,n)};function Ke(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Ue(t,o.key,o)}}var Ve=function(t,e,n){return e&&Ke(t.prototype,e),n&&Ke(t,n),t},Je=function(t){var e=new RegExp("[?&]".concat(t,"=([^&]*)")).exec(window.location.search);return e&&decodeURIComponent(e[1].replace(/\+/g," "))},$e={post:function(t,e){return this.request("POST",t,e)},get:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.request("GET",t,e)},request:function(t,e,n){return new ze(function(o,i){var r=new XMLHttpRequest;r.open(t,e,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.withCredentials=!0,r.onload=function(){4===r.readyState&&200===r.status&&""!==r.response?o(JSON.parse(r.response)):i(r)},r.onerror=function(){i(r)},r.send(n)})}},Xe=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.getFullYear(),o="0".concat(t.getMonth()+1).slice(-2),i="0".concat(t.getDate()).slice(-2);return e?"".concat(n," 年 ").concat(o," 月 ").concat(i," 日"):"".concat(n,"-").concat(o,"-").concat(i)},Qe=function(t){var e=document.createElement("a");e.href=t,e.target="_blank",e.rel="noopener",e.click()},tn=function(t){return t.replace(/ /g,"_")},en=function(t,e){var n=(p.Object||{})[t]||Object[t],o={};o[t]=e(n),L(L.S+L.F*g(function(){n(1)}),"Object",o)};en("getPrototypeOf",function(){return function(t){return kt(gt(t))}});var nn=p.Object.getPrototypeOf,on={f:ht},rn=on.f("iterator"),an=t(function(t){var e=V("meta"),n=P.f,o=0,i=Object.isExtensible||function(){return!0},r=!g(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++o,w:{}}})},c=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!_(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!D(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},getWeak:function(t,n){if(!D(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},onFreeze:function(t){return r&&c.NEED&&i(t)&&!D(t,e)&&a(t),t}}}),cn=(an.KEY,an.NEED,an.fastKey,an.getWeak,an.onFreeze,P.f),sn=function(t){var e=p.Symbol||(p.Symbol={});"_"==t.charAt(0)||t in e||cn(e,t,{value:on.f(t)})},ln={f:Object.getOwnPropertySymbols},un={f:{}.propertyIsEnumerable},hn=Array.isArray||function(t){return"Array"==M(t)},pn=et.concat("length","prototype"),dn={f:Object.getOwnPropertyNames||function(t){return tt(t,pn)}},fn=dn.f,_n={}.toString,vn="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],gn={f:function(t){return vn&&"[object Window]"==_n.call(t)?function(t){try{return fn(t)}catch(t){return vn.slice()}}(t):fn(I(t))}},yn=Object.getOwnPropertyDescriptor,mn={f:y?yn:function(t,e){if(t=I(t),e=x(e,!0),w)try{return yn(t,e)}catch(t){}if(D(t,e))return T(!un.f.call(t,e),t[e])}},kn=an.KEY,bn=mn.f,wn=P.f,xn=gn.f,En=h.Symbol,Pn=h.JSON,Tn=Pn&&Pn.stringify,Sn="prototype",On=ht("_hidden"),jn=ht("toPrimitive"),Cn={}.propertyIsEnumerable,Ln=Y("symbol-registry"),An=Y("symbols"),Nn=Y("op-symbols"),Dn=Object[Sn],Bn="function"==typeof En,Hn=h.QObject,Mn=!Hn||!Hn[Sn]||!Hn[Sn].findChild,Rn=y&&g(function(){return 7!=ut(wn({},"a",{get:function(){return wn(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=bn(Dn,e);o&&delete Dn[e],wn(t,e,n),o&&t!==Dn&&wn(Dn,e,o)}:wn,In=function(t){var e=An[t]=ut(En[Sn]);return e._k=t,e},Gn=Bn&&"symbol"==typeof En.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof En},zn=function(t,e,n){return t===Dn&&zn(Nn,e,n),v(t),e=x(e,!0),v(n),D(An,e)?(n.enumerable?(D(t,On)&&t[On][e]&&(t[On][e]=!1),n=ut(n,{enumerable:T(0,!1)})):(D(t,On)||wn(t,On,T(1,{})),t[On][e]=!0),Rn(t,e,n)):wn(t,e,n)},Fn=function(t,e){v(t);for(var n,o=function(t){var e=nt(t),n=ln.f;if(n)for(var o,i=n(t),r=un.f,a=0;i.length>a;)r.call(t,o=i[a++])&&e.push(o);return e}(e=I(e)),i=0,r=o.length;r>i;)zn(t,n=o[i++],e[n]);return t},qn=function(t){var e=Cn.call(this,t=x(t,!0));return!(this===Dn&&D(An,t)&&!D(Nn,t))&&(!(e||!D(this,t)||!D(An,t)||D(this,On)&&this[On][t])||e)},Wn=function(t,e){if(t=I(t),e=x(e,!0),t!==Dn||!D(An,e)||D(Nn,e)){var n=bn(t,e);return!n||!D(An,e)||D(t,On)&&t[On][e]||(n.enumerable=!0),n}},Zn=function(t){for(var e,n=xn(I(t)),o=[],i=0;n.length>i;)D(An,e=n[i++])||e==On||e==kn||o.push(e);return o},Yn=function(t){for(var e,n=t===Dn,o=xn(n?Nn:I(t)),i=[],r=0;o.length>r;)!D(An,e=o[r++])||n&&!D(Dn,e)||i.push(An[e]);return i};Bn||(A((En=function(){if(this instanceof En)throw TypeError("Symbol is not a constructor!");var t=V(arguments.length>0?arguments[0]:void 0),e=function(n){this===Dn&&e.call(Nn,n),D(this,On)&&D(this[On],t)&&(this[On][t]=!1),Rn(this,t,T(1,n))};return y&&Mn&&Rn(Dn,t,{configurable:!0,set:e}),In(t)})[Sn],"toString",function(){return this._k}),mn.f=Wn,P.f=zn,dn.f=gn.f=Zn,un.f=qn,ln.f=Yn,on.f=function(t){return In(ht(t))}),L(L.G+L.W+L.F*!Bn,{Symbol:En});for(var Un="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Kn=0;Un.length>Kn;)ht(Un[Kn++]);for(var Vn=nt(ht.store),Jn=0;Vn.length>Jn;)sn(Vn[Jn++]);L(L.S+L.F*!Bn,"Symbol",{for:function(t){return D(Ln,t+="")?Ln[t]:Ln[t]=En(t)},keyFor:function(t){if(!Gn(t))throw TypeError(t+" is not a symbol!");for(var e in Ln)if(Ln[e]===t)return e},useSetter:function(){Mn=!0},useSimple:function(){Mn=!1}}),L(L.S+L.F*!Bn,"Object",{create:function(t,e){return void 0===e?ut(t):Fn(ut(t),e)},defineProperty:zn,defineProperties:Fn,getOwnPropertyDescriptor:Wn,getOwnPropertyNames:Zn,getOwnPropertySymbols:Yn}),Pn&&L(L.S+L.F*(!Bn||g(function(){var t=En();return"[null]"!=Tn([t])||"{}"!=Tn({a:t})||"{}"!=Tn(Object(t))})),"JSON",{stringify:function(t){for(var e,n,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=e=o[1],(_(e)||void 0!==t)&&!Gn(t))return hn(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!Gn(e))return e}),o[1]=e,Tn.apply(Pn,o)}}),En[Sn][jn]||S(En[Sn],jn,En[Sn].valueOf),ft(En,"Symbol"),ft(Math,"Math",!0),ft(h.JSON,"JSON",!0),sn("asyncIterator"),sn("observable");var $n=p.Symbol,Xn=t(function(t){function e(t){return(e="function"==typeof $n&&"symbol"==typeof rn?function(t){return typeof t}:function(t){return t&&"function"==typeof $n&&t.constructor===$n&&t!==$n.prototype?"symbol":typeof t})(t)}function n(o){return"function"==typeof $n&&"symbol"===e(rn)?t.exports=n=function(t){return e(t)}:t.exports=n=function(t){return t&&"function"==typeof $n&&t.constructor===$n&&t!==$n.prototype?"symbol":e(t)},n(o)}t.exports=n});var Qn=function(t,e){if(e&&("object"===Xn(e)||"function"==typeof e))return e;if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},to=mn.f;en("getOwnPropertyDescriptor",function(){return function(t,e){return to(I(t),e)}});var eo=p.Object,no=function(t,e){return eo.getOwnPropertyDescriptor(t,e)};var oo=function t(e,n,o){null===e&&(e=Function.prototype);var i=no(e,n);if(void 0===i){var r=nn(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(o):void 0},io=function(t,e){if(v(t),!_(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},ro={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=f(Function.call,mn.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,o){return io(t,o),e?t.__proto__=o:n(t,o),t}}({},!1):void 0),check:io};L(L.S,"Object",{setPrototypeOf:ro.set});var ao=p.Object.setPrototypeOf;L(L.S,"Object",{create:ut});var co=p.Object,so=function(t,e){return co.create(t,e)};var lo=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=so(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(ao?ao(t,e):t.__proto__=e)},uo="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",ho="["+uo+"]",po=RegExp("^"+ho+ho+"*"),fo=RegExp(ho+ho+"*$"),_o=function(t,e,n){var o={},i=g(function(){return!!uo[t]()||"​"!="​"[t]()}),r=o[t]=i?e(vo):uo[t];n&&(o[n]=r),L(L.P+L.F*i,"String",o)},vo=_o.trim=function(t,e){return t=String(u(t)),1&e&&(t=t.replace(po,"")),2&e&&(t=t.replace(fo,"")),t},go=_o,yo=h.parseInt,mo=go.trim,ko=/^[-+]?0[xX]/,bo=8!==yo(uo+"08")||22!==yo(uo+"0x16")?function(t,e){var n=mo(String(t),3);return yo(n,e>>>0||(ko.test(n)?16:10))}:yo;L(L.S+L.F*(Number.parseInt!=bo),"Number",{parseInt:bo});var wo=parseInt,xo=function(){function t(e){Ze(this,t),this.initProperties(e)}return Ve(t,[{key:"initProperties",value:function(t){this.project_id=t.project_id,this.platform_name=t.platform_name,this.product_id=t.product_id,this.platform_data=t.platform_data||{},this.widget_type=t.widget_type,this.widget_content=t.widget_content,this.isPreview=t.isPreview,this.octopusTags=t.octopusTags,this.articleTitle=t.articleTitle,this.pv_link=t.pv_link,this.pv_load_link=t.pv_load_link,this.label=t.label||"noLabel",this.click_link=t.click_link,this.zone3_type=t.zone3_type,this.ga=t.widget_content.ga,this.delayTime=1e3,this.supportsPassive=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return t}()}},{key:"initGoogleAnalytics",value:function(){var t,e,n,o,i;t=window,e=document,n="ga",t.GoogleAnalyticsObject=n,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=e.createElement("script"),i=e.getElementsByTagName("script")[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(o,i),ga("create",this.widget_content.ga,"auto",{name:this.gaName}),ga("".concat(this.gaName,".send"),"pageview")}},{key:"recordPaEvent",value:function(t){if(!this.isPreview){_piq.push(["trackEvent","octopusProject",t,this.project_id,wo(this.project_id,10)]),_piq.push(["trackEvent","octopusSupplier",t,this.platform_name,wo(this.project_id,10)]),_piq.push(["trackEvent","octopusWidget",t,this.widget_type,wo(this.project_id,10)]),_piq.push(["trackEvent","octopusProductId",t,this.product_id,wo(this.project_id,10)]);for(var e=this.octopusTags.length,n=0;n<e;n++)_piq.push(["trackEvent","octopusTag",t,this.octopusTags[n],wo(this.project_id,10)])}}},{key:"sendTrackEvent",value:function(t){(new Image).src=t}}]),t}(),Eo=function(t){function e(){return Ze(this,e),Qn(this,(e.__proto__||nn(e)).apply(this,arguments))}return lo(e,xo),Ve(e,[{key:"initProperties",value:function(t){oo(e.prototype.__proto__||nn(e.prototype),"initProperties",this).call(this,t),this.gaName="relatedPrdTracker"}},{key:"bindEvent",value:function(t){var n=this;t.addEventListener("click",function(t){var o=document.querySelector(".related__content"),i=t.target,r={related__title:"title",related__subtitle:"description",related__img:"image",related__reserve:"button"},a="other";n.isDescendant(o,i)&&(a="description");for(var c in r)if(0<=i.className.indexOf(c)){a=r[c];break}n.widget_content.link?(n.recordGaEvent("click",!0),n.recordPaEvent("click_"+a),oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,"".concat(n.click_link,"?position=").concat(a)),"related"===i.className&&Qe("".concat(n.widget_content.link))):t.preventDefault()});window.addEventListener("scroll",function o(){window.requestAnimationFrame(function(){t.offsetTop<window.pageYOffset+window.screen.height&&t.offsetTop+t.offsetHeight>window.pageYOffset&&(oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,n.pv_link),n.recordGaEvent("scroll_into_view",!0),window.removeEventListener("scroll",o))})},!!this.supportsPassive&&{passive:!0})}},{key:"isDescendant",value:function(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1}},{key:"gtmImpsEvent",value:function(){dataLayer.push({event:"genericPageview",eventUA:this.widget_content.ga,eventContentGroup1:"".concat(this.project_id,"_RP")})}},{key:"trace",value:function(){var t=this;this.isPreview||(oo(e.prototype.__proto__||nn(e.prototype),"initGoogleAnalytics",this).call(this),oo(e.prototype.__proto__||nn(e.prototype),"recordPaEvent",this).call(this,"imps"),setTimeout(function(){t.recordGaEvent("load",!1),t.recordPaEvent("load")},this.delayTime),this.gtmImpsEvent())}},{key:"recordGaEvent",value:function(t,e){this.isPreview||ga("".concat(this.gaName,".send"),"event","".concat(this.project_id,"_RP"),t,{nonInteraction:!e})}},{key:"recordPaEvent",value:function(t){_piq.push(["trackEvent","".concat(this.project_id,"_RP"),t,this.label])}},{key:"compileHtml",value:function(){return function(t){var e=t.description||"",n=t.img_link||"",o=t.title,i=t.link,r=t.price||"",a=t.original_price||"",c=t.button_name,s=t.html||"",l="";e&&(l='<a href="'.concat(i,'" target="_blank" rel="nofollow noopener"><span class="related__subtitle">').concat(e,"</span></a>"));var u="";n&&(u='<a href="'.concat(i,'" target="_blank" rel="nofollow noopener"><img class="related__img" src="').concat(n,'"></a>'));var h="";return s&&(h='<a href="'.concat(i,'" target="_blank" rel="nofollow noopener">').concat(s,"</a>")),'\n            <div class="related" data-title="'.concat(o,'" data-link="').concat(i,'" data-price="').concat(r,'" data-original-price="').concat(a,'" data-description="').concat(e,'" data-img-link="').concat(n,'" data-button-name="').concat(c,'">\n                <a href="').concat(i,'" target="_blank" rel="nofollow noopener"><h3 class="related__title">').concat(o,"</h3></a>\n                ").concat(l,"\n                ").concat(u,"\n                ").concat(h,'\n                <a class="related__reserve" href="').concat(i,'" target="_blank" rel="nofollow noopener">').concat(c,"</a>\n            </div>")}(this.widget_content)}}]),e}(),Po=function(t){function e(){return Ze(this,e),Qn(this,(e.__proto__||nn(e)).apply(this,arguments))}return lo(e,xo),Ve(e,[{key:"initProperties",value:function(t){oo(e.prototype.__proto__||nn(e.prototype),"initProperties",this).call(this,t),this.gaName="ctaTracker",this.widget_content.number=2}},{key:"bindEvent",value:function(t){var n=this;t.addEventListener("click",function(t){var o=t.target;if("sticky-box__close"===o.className)return n.recordEvent("close",!0),n.stickyBox.classList.remove("show"),void oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,"".concat(n.click_link,"?position=close"));var i={"sticky-box__link--title":["CTA_Click_Title","title"],"sticky-box__link--price":["CTA_Click_Price","other"],"price-text":["CTA_Click_Price","other"],"sticky-box__link--button":["CTA_Click_Button","button"],"sticky-box__info--date":["CTA_Click_Calendar","other"],"sticky-box__img":["CTA_Click_Image","image"],"sticky-box__info--people":["CTA_Click_People","other"],"sticky-box__link--description":["CTA_Click_Description","description"],"sticky-box__info--description":["CTA_Click_Description","description"]},r="CTA_Click_other",a="other";for(var c in i)if(0<=o.className.indexOf(c)){r=i[c][0],a=i[c][1];break}n.widget_content.link?(n.recordEvent(r,!0),oo(e.prototype.__proto__||nn(e.prototype),"recordPaEvent",n).call(n,"click"),oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,"".concat(n.click_link,"?position=").concat(a)),"CTA_Click_other"===r&&(Qe("".concat(n.widget_content.link)),t.preventDefault())):t.preventDefault()}),this.showCta()}},{key:"gtmImpsEvent",value:function(){dataLayer.push({event:"genericPageview",eventUA:this.widget_content.ga,eventContentGroup1:"".concat(this.project_id,"_CTA")})}},{key:"trace",value:function(){var t=this;oo(e.prototype.__proto__||nn(e.prototype),"initGoogleAnalytics",this).call(this),oo(e.prototype.__proto__||nn(e.prototype),"recordPaEvent",this).call(this,"imps"),setTimeout(function(){t.recordEvent("load",!1)},this.delayTime),this.gtmImpsEvent()}},{key:"recordEvent",value:function(t,e){ga("".concat(this.gaName,".send"),"event","".concat(this.project_id,"_CTA"),t,{nonInteraction:!e}),_piq.push(["trackEvent","".concat(this.project_id,"_CTA"),t,this.label]),_piq.push(["trackEvent","octopus_".concat(this.project_id,"_CTA"),"octopus_".concat(t),this.getReadProgress()])}},{key:"showCta",value:function(){var t=this,n=o();function o(){return"object"===Xn(window.performance)?window.performance.now():(new Date).getTime()}window.requestAnimFrame(function i(){(function(){if("desktop"==deviceType)return!1;var t=document.querySelector("#main-content").getBoundingClientRect(),e=t.left+12,n=t.right-12,o=Math.max(0,t.top+12),i=t.bottom-12,r=Math.floor(t.left+t.width/2),a=Math.floor(t.top+t.height/2),c=[{x:e,y:o},{x:r,y:o},{x:n,y:o},{x:e,y:a},{x:r,y:a},{x:n,y:a},{x:e,y:i},{x:r,y:i},{x:n,y:i}];for(var s in c)if(c.hasOwnProperty(s)&&c[s]&&c[s].x>=0&&c[s].y>=0){var l=document.elementFromPoint(c[s].x,c[s].y);if(!l)continue;var u=l.getBoundingClientRect();if(window.screen.width<=Math.round(u.width)&&window.screen.height<=Math.round(u.height))return!0}return!1})()&&(n=o()),o()-n>=t.delayTime?(t.stickyBox=document.getElementsByClassName("sticky-box")[0],t.stickyBox&&(t.stickyBox.classList.add("show"),oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",t).call(t,t.pv_link),window.cancelAnimFrame(i))):window.requestAnimFrame(i)})}},{key:"getReadProgress",value:function(){var t,e,n="top",o=window.pageYOffset+window.innerHeight;return["hot-articles-section-9","hot-articles-section-8","hot-articles-section-7","hot-articles-section-6","hot-articles-section-5","hot-articles-section-4","hot-articles-section-3","hot-articles-section-2","hot-articles-section-1","discover-stream","pix-related-post","article-body"].map(function(t){var e,i,r;"top"===n&&(e=o,i=t,(r=document.querySelector(".".concat(i)))&&e>r.offsetTop&&(n=t))}),"article-body"===n&&(n+="-".concat((t=o,e=document.querySelector(".article-body"),10*Math.ceil((t-e.offsetTop)/e.offsetHeight*10)),"%")),n}},{key:"compileHtml",value:function(){return function(t,e){var n=new Date,o=Xe(n),i=e.img_link||"",r=e.link,a=e.description||"",c=e.title,s=e.price||"",l=e.button_name,u=e.html||"",h=e.original_price||"",p=e.number||"",d="",f="",_="",v="";return{cta_hotel_compare:(i&&(d='<a class="sticky-box__link--img" href="'.concat(r,'" target="_blank" rel="nofollow noopener">\n                        <img src="').concat(i,'" class="sticky-box__img" style="float:left;margin:10px;width:80px;height:80px;">\n                    </a>')),a&&(f='<a class="sticky-box__link--description" href="'.concat(r,'" target="_blank" rel="nofollow noopener">\n                        <span class="sticky-box__info--description" style="font-size:12px;color:#999;">').concat(a,"</span>\n                    </a>"),_='style="height:auto;max-height:2.6em"'),'<div class="sticky-box" data-title="'.concat(c,'" data-link="').concat(r,'" data-price="').concat(s,'" data-button-name="').concat(l,'">\n            ').concat(d,'\n            <div class="sticky-box__title" ').concat(_,'>\n                <a class="sticky-box__link--title" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(c,"</a>\n            </div>\n            ").concat(f,'\n            <div class="sticky-box__slogan">\n                <a class="sticky-box__link--price" href="').concat(r,'" target="_blank" rel="nofollow noopener">\n                    <span class="price-text text-conspicuous text-conspicuous--green">').concat(s,'</span>\n                </a>\n            </div>\n            <span class="sticky-box__btn sticky-box__btn--blue">\n                <a class="sticky-box__link--button" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(l,'</a>\n            </span>\n            <div class="sticky-box__close">關閉</div>\n            ').concat(u,"\n        </div>")),cta_hotel_recommend:(i&&(d='<a class="sticky-box__link--img" href="'.concat(r,'" target="_blank" rel="nofollow noopener">\n                        <img src="').concat(i,'" class="sticky-box__img" style="float:left;margin:10px;width:80px;height:80px;">\n                    </a>')),a&&(f='<a class="sticky-box__link--description" href="'.concat(r,'" target="_blank" rel="nofollow noopener">\n                        <span class="sticky-box__info--description" style="font-size:12px;color:#999;">').concat(a,"</span>\n                    </a>"),_='style="height:auto;max-height:2.6em"'),'<div class="sticky-box" data-title="'.concat(c,'" data-link="').concat(r,'" data-price="').concat(s,'" data-button-name="').concat(l,'">\n            ').concat(d,'\n            <div class="sticky-box__title" ').concat(_,'>\n                <a class="sticky-box__link--title" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(c,"</a>\n            </div>\n            ").concat(f,'\n            <div class="sticky-box__slogan">\n                <a class="sticky-box__link--price" href="').concat(r,'" target="_blank" rel="nofollow noopener">\n                    <span class="price-text text-conspicuous text-conspicuous--green">').concat(s,'</span>\n                    <span class="price-text text-inconspicuous"> 起</span>\n                </a>\n            </div>\n            <span class="sticky-box__btn sticky-box__btn--blue">\n                <a class="sticky-box__link--button" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(l,'</a>\n            </span>\n            <div class="sticky-box__close">關閉</div>\n            ').concat(u,"\n        </div>")),cta_restaurant_voucher:(h&&(v='<span class="price-text text-inconspicuous text-inconspicuous--deleted">原價 '.concat(h,"</span>")),'<div class="sticky-box" data-title="'.concat(c,'" data-link="').concat(r,'" data-price="').concat(s,'" data-original-price="').concat(h,'" data-button-name="').concat(l,'">\n            <div class="sticky-box__title">\n                <a class="sticky-box__link--title" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(c,'</a>\n            </div>\n            <div class="sticky-box__slogan">\n                <a class="sticky-box__link--price" href="').concat(r,'" target="_blank" rel="nofollow noopener">\n                    <span class="price-text text-conspicuous text-conspicuous--red">').concat(s,"</span>\n                    ").concat(v,'\n                </a>\n            </div>\n            <span class="sticky-box__btn sticky-box__btn--red">\n                <a class="sticky-box__link--button" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(l,'</a>\n            </span>\n            <div class="sticky-box__close">關閉</div>\n            ').concat(u,"\n        </div>")),cta_restaurant_reservation:'<div class="sticky-box" data-title="'.concat(c,'" data-link="').concat(r,'" data-button-name="').concat(l,'">\n            <div class="sticky-box__title">\n                <a class="sticky-box__link--title" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(c,'</a>\n            </div>\n            <span class="sticky-box__btn sticky-box__btn--red">\n                <a class="sticky-box__link--button" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(l,'</a>\n            </span>\n            <div class="sticky-box__slogan">\n                <a class="sticky-box__info sticky-box__info--date" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(o,'</a>\n                <a class="sticky-box__info sticky-box__info--people" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(p,'</a>\n            </div>\n            <div class="sticky-box__close">關閉</div>\n            ').concat(u,"\n        </div>"),cta_bnb_reservation:'<div class="sticky-box" data-box-type="asiayo" data-track-imps="true" data-title="'.concat(c,'" data-link="').concat(r,'" data-price="').concat(s,'" data-button-name="').concat(l,'">\n            <div class="sticky-box__title">\n                <a class="sticky-box__link--title" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(c,'</a>\n            </div>\n            <div class="sticky-box__slogan">\n                <a class="sticky-box__link--price" href="').concat(r,'" target="_blank" rel="nofollow noopener">\n                    <span class="price-text text-conspicuous text-conspicuous--red">').concat(s,'</span>\n                    <span class="price-text text-inconspicuous">起</span>\n                </a>\n            </div>\n            <span class="sticky-box__btn sticky-box__btn--dark-blue">\n                <a class="sticky-box__link--button" id="asiayo-box-link" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(l,'</a>\n            </span>\n            <div class="sticky-box__close" id="asiayo-box-close-btn">關閉</div>\n            ').concat(u,"\n        </div>"),cta_diy:g(),cta_general:g()}[t]||"";function g(){return i&&(d='<a class="sticky-box__link--img" href="'.concat(r,'" target="_blank" rel="nofollow noopener">\n                        <img src="').concat(i,'" class="sticky-box__img" style="float:left;margin:10px;width:80px;height:80px;">\n                    </a>')),a&&(f='<a class="sticky-box__link--description" href="'.concat(r,'" target="_blank" rel="nofollow noopener">\n                        <span class="sticky-box__info--description" style="font-size:12px;color:#999;">').concat(a,"</span>\n                    </a>")),'<div class="sticky-box" data-title="'.concat(c,'" data-img-link="').concat(i,'" data-description="').concat(a,'" data-link="').concat(r,'" data-button-name="').concat(l,'">\n            ').concat(d,'\n            <div class="sticky-box__title" style="height:auto;">\n                <a class="sticky-box__link--title" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(c,"</a>\n            </div>\n            ").concat(f,'\n            <span class="sticky-box__btn sticky-box__btn--red">\n                <a class="sticky-box__link--button" href="').concat(r,'" target="_blank" rel="nofollow noopener">').concat(l,'</a>\n            </span>\n            <div class="sticky-box__close">關閉</div>\n            ').concat(u,"\n        </div>")}}(this.widget_type,this.widget_content)}}]),e}(),To=Object.assign,So=!To||g(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=To({},t)[n]||Object.keys(To({},e)).join("")!=o})?function(t,e){for(var n=gt(t),o=arguments.length,i=1,r=ln.f,a=un.f;o>i;)for(var c,s=R(arguments[i++]),l=r?nt(s).concat(r(s)):nt(s),u=l.length,h=0;u>h;)a.call(s,c=l[h++])&&(n[c]=s[c]);return n}:To;L(L.S+L.F,"Object",{assign:So});var Oo,jo=p.Object.assign,Co=function(t){function e(){return Ze(this,e),Qn(this,(e.__proto__||nn(e)).apply(this,arguments))}return lo(e,xo),Ve(e,[{key:"initProperties",value:function(t){var n=this;oo(e.prototype.__proto__||nn(e.prototype),"initProperties",this).call(this,t),this.gaName="hotelcTracker",this.widget_content.ga="UA-65168598-12",this.platform_data.date={},this.label=t.label,this.firstResult=!0,this.isHotel="hotels_compare"===this.widget_type,this.today=new Date,this.todayStr=this.formateDate(this.today),this.stateNow="loading",this.defaultDate={hotelcCheckin:this.formateDate(new Date(this.today.getTime()+6048e5)),hotelcCheckout:this.formateDate(new Date(this.today.getTime()+6912e5))},this.traceResult={result:function(){n.recordGaEvent("API result","API戳成功"),n.recordHotelcPaEvent("load")},fail:function(){n.recordGaEvent("API result","API戳失敗"),n.recordHotelcPaEvent("load hotel fail")},nodata:function(){n.recordGaEvent("API result","API戳成功_沒有飯店"),n.recordHotelcPaEvent("load hotel fail")}}}},{key:"compileHtml",value:function(){var t=jo({},this.widget_content,this.platform_data);return function(t,e){var n=new Date,o=new Date(n.getTime()+6048e5),i=new Date(n.getTime()+6912e5),r=Xe(n),a=Xe(o),c=Xe(i),s=Xe(o,!0),l=Xe(i,!0),u=e.area_en||"",h=e.area_tw||"",p=e.name_en||"",d=e.name_tw||"",f=e.item_count||"",_=e.title,v=e.area_en||"",g=e.button_name||"",y=e.star_rating||"",m=e.image_url||"",k="";"off"===e.enable_entry_date&&(k='hidden="true"');var b="";return"off"===e.enable_exit_date&&(b='hidden="true"'),{hotels_compare:function(){for(var t="",e=0;e<y;e++)t+='<span class="hotelc__info__star--yellow"></span>';for(var n=y;n<5;n++)t+='<span class="hotelc__info__star--gray"></span>';var o="";return m&&(o="style=\"background-image: url('".concat(m,"')\"")),'<div class="hotelc-box" data-type="hotel" data-place="'.concat(u,'" data-name-en="').concat(p,'" data-name-tw="').concat(d,'">\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;">\n                <defs>\n                    <g id="icon-arrow--down">\n                        <path d="M1 0l5 6.996m0 0L11 0" stroke-linecap="square" stroke="currentColor" fill="none"/>\n                    </g>\n                    <g id="icon-arrow--right" fill="none" fill-rule="evenodd">\n                        <path d="M-349-58H26V2h-375z"/>\n                        <path d="M0 12l6-6M0 0l6 6" stroke="currentColor" stroke-linecap="square"/>\n                    </g>\n                </defs>\n            </svg>\n            <div class="hotelc__header">').concat(_,'</div>\n            <div class="hotelc__block1">\n                <a id="hotelc-info" href="https://www.hotelscombined.com.tw/Hotel/Search?fileName=').concat(p,"&checkin=").concat(a,"&checkout=").concat(c,'&rooms=1&adults_1=2&languageCode=TW&a_aid=132653&label=hotelinfoSingle" target="_blank" rel="nofollow noopener">\n                    <div class="hotelc__info">\n                        <div>\n                            <div class="hotelc__info__img" ').concat(o,'></div>\n                        </div>\n                        <div>\n                            <div class="hotelc__info__name">').concat(d,'</div>\n                            <div class="hotelc__info__place">').concat(h,"</div>\n                            <div>\n                                ").concat(t,'\n                                <span class="hotelc__info__star__txt">').concat(y,'星級飯店</span>\n                            </div>\n                        </div>\n                    </div>\n                </a>\n                <div class="hotelc__date-btn-container">\n                    <div class="hotelc__date-btn" ').concat(k,'>\n                        <div class="hotelc__date-btn__text">入住日期</div>\n                        <div class="hotelc__date-btn__date">\n                            <span>').concat(s,'</span>\n                            <svg class="icon-arrow--down" viewBox="0 0 12 8">\n                                <use xlink:href="#icon-arrow--down"></use>\n                            </svg>\n                        </div>\n                    </div>\n                    <div class="hotelc__date-btn" ').concat(b,'>\n                        <div class="hotelc__date-btn__text">退房日期</div>\n                        <div class="hotelc__date-btn__date">\n                            <span>').concat(l,'</span>\n                            <svg class="icon-arrow--down" viewBox="0 0 12 8">\n                                <use xlink:href="#icon-arrow--down"></use>\n                            </svg>\n                        </div>\n                    </div>\n                    <div class="hotelc__date-inputs">\n                        <input class="hotelc__date-input" type="date" value="').concat(a,'" min="').concat(r,'">\n                        <input class="hotelc__date-input" type="date" value="').concat(c,'" min="').concat(c,'">\n                    </div>\n                </div>\n            </div>\n            \x3c!-- 資料讀取中 --\x3e\n            <div class="hotelc__loading">\n                <div class="hotelc__loading-icon">資料讀取中</div>\n                <a class="hotelc__loading-link hotelc-links" id="hotelc-link--loading-continue" href="https://www.hotelscombined.com.tw/Hotel/Search?fileName=').concat(p,"&checkin=").concat(a,"&checkout=").concat(c,'&rooms=1&adults_1=2&languageCode=TW&a_aid=132653&label=loadingSingle" target="_blank" rel="nofollow noopener">等不及了嗎，直接前往查看更多</a>\n            </div>\n            <div class="hotelc__result">\n                <ul class="hotelc__result__list single--b"></ul>\n                <div class="hotelc__notes hotelc__notes--last">\n                    <a class="hotelc-links" id="hotelc-link--more" href="https://www.hotelscombined.com.tw/Hotels/Search?destination=place:').concat(u,"&checkin=").concat(a,"&checkout=").concat(c,'&rooms=1&adults_1=2&languageCode=TW&sortField=consumerRating&a_aid=132653&label=moreSingle&sort=MinRate-asc" target="_blank" rel="nofollow noopener">看更多').concat(h,'飯店</a><br>\n                    <a class="hotelc-powerby" href="https://www.hotelscombined.com.tw?a_aid=132653&label=powerbySingle" target="_blank" rel="nofollow noopener">\n                        <img src="https://front.pixfs.net/coblog/img/logo--hotelc.png" class="hotelc-powerby__img" alt="資料提供：HotelsCombined">\n                    </a>\n                </div>\n            </div>\n            \x3c!-- 資料錯誤 --\x3e\n            <div class="hotelc__nodata">\n                <div class="hotelc__notes">\n                    由於資料過多<br>\n                    請前往 HotelsCombined 看詳細結果\n                </div>\n                <a class="hotelc__btn hotelc__btn--blue hotelc-links" id="hotelc-link--fail-continue" href="https://www.hotelscombined.com.tw/Hotel/Search?fileName=').concat(p,"&checkin=").concat(a,"&checkout=").concat(c,'&rooms=1&adults_1=2&languageCode=TW&a_aid=132653&label=nodataSingle" target="_blank" rel="nofollow noopener">\n                    立即前往\n                    <svg class="icon-arrow--right" viewBox="0 0 8 12">\n                        <use xlink:href="#icon-arrow--right"></use>\n                    </svg>\n                </a>\n            </div>\n        </div>')}(),hotels_recommend:'<div class="hotelc-box" data-type="place" data-place="'.concat(u,'" data-name-en="').concat(p,'" data-name-tw="').concat(d,'" data-item-count="').concat(f,'">\n            <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display: none;">\n                <defs>\n                    <g id="icon-arrow--down">\n                        <path d="M1 0l5 6.996m0 0L11 0" stroke-linecap="square" stroke="currentColor" fill="none"/>\n                    </g>\n                    <g id="icon-arrow--right" fill="none" fill-rule="evenodd">\n                        <path d="M-349-58H26V2h-375z"/>\n                        <path d="M0 12l6-6M0 0l6 6" stroke="currentColor" stroke-linecap="square"/>\n                    </g>\n                </defs>\n            </svg>\n            <div class="hotelc__header">').concat(_,'</div>\n            <div class="hotelc__block1">\n                <div class="hotelc__date-btn-container">\n                    <div class="hotelc__date-btn" ').concat(k,'>\n                        <div class="hotelc__date-btn__text">入住日期</div>\n                        <div class="hotelc__date-btn__date">\n                            <span>').concat(s,'</span>\n                            <svg class="icon-arrow--down" viewBox="0 0 12 8">\n                                <use xlink:href="#icon-arrow--down"></use>\n                            </svg>\n                        </div>\n                    </div>\n                    <div class="hotelc__date-btn" ').concat(b,'>\n                        <div class="hotelc__date-btn__text">退房日期</div>\n                        <div class="hotelc__date-btn__date">\n                            <span>').concat(l,'</span>\n                            <svg class="icon-arrow--down" viewBox="0 0 12 8">\n                                <use xlink:href="#icon-arrow--down"></use>\n                            </svg>\n                        </div>\n                    </div>\n                    <div class="hotelc__date-inputs">\n                        <input class="hotelc__date-input" type="date" value="').concat(a,'" min="').concat(r,'">\n                        <input class="hotelc__date-input" type="date" value="').concat(c,'" min="').concat(c,'">\n                    </div>\n                </div>\n            </div>\n            \x3c!-- 資料讀取中 --\x3e\n            <div class="hotelc__loading">\n                <div class="hotelc__loading-icon">資料讀取中</div>\n                <a class="hotelc__loading-link hotelc-links" id="hotelc-link--loading-continue" href="https://www.hotelscombined.com.tw/Hotels/Search?destination=place:').concat(v,"&checkin=").concat(a,"&checkout=").concat(c,'&rooms=1&adults_1=2&languageCode=TW&sortField=consumerRating&a_aid=132653&label=loadingArea" target="_blank" rel="nofollow noopener">等不及了嗎，直接前往查看更多</a>\n            </div>\n            <div class="hotelc__result">\n                <ul class="hotelc__result__list multi--b"></ul>\n                <a class="hotelc__btn hotelc__btn--green hotelc-links" id="hotelc-link--more" href="https://www.hotelscombined.com.tw/Hotels/Search?destination=place:').concat(v,"&checkin=").concat(a,"&checkout=").concat(c,'&rooms=1&adults_1=2&languageCode=TW&sortField=consumerRating&a_aid=132653&label=moreArea" target="_blank" rel="nofollow noopener">\n                    ').concat(g,'\n                    <svg class="icon-arrow--right" viewBox="0 0 8 12">\n                        <use xlink:href="#icon-arrow--right"></use>\n                    </svg>\n                </a>\n                <div class="hotelc__notes hotelc__notes--last">\n                    <a class="hotelc-powerby" href="https://www.hotelscombined.com.tw?a_aid=132653&label=powerbyArea" target="_blank" rel="nofollow noopener">\n                        <img src="https://front.pixfs.net/coblog/img/logo--hotelc.png" class="hotelc-powerby__img" alt="資料提供：HotelsCombined">\n                    </a>\n                </div>\n            </div>\n            \x3c!-- 資料錯誤 --\x3e\n            <div class="hotelc__nodata">\n                <div class="hotelc__notes">\n                    由於資料過多<br>\n                    請前往 HotelsCombined 看詳細結果\n                </div>\n                <a class="hotelc__btn hotelc__btn--blue hotelc-links" id="hotelc-link--fail-continue" href="https://www.hotelscombined.com.tw/Hotels/Search?destination=place:').concat(v,"&checkin=").concat(a,"&checkout=").concat(c,'&rooms=1&adults_1=2&languageCode=TW&sortField=consumerRating&a_aid=132653&label=nodataArea" target="_blank" rel="nofollow noopener">\n                    立即前往\n                    <svg class="icon-arrow--right" viewBox="0 0 8 12">\n                        <use xlink:href="#icon-arrow--right"></use>\n                    </svg>\n                </a>\n            </div>\n        </div>'),hotels_search:'<div class="hotels-search">\n            <ins class="bookingaff" data-aid="846006" data-target_aid="835804" data-prod="nsb" data-width="265" data-height="360" data-lang="xt" data-currency="TWD">\n            \x3c!-- Anything inside will go away once widget is loaded. --\x3e\n                <a href="https://www.booking.com?aid=835804" target="_blank" rel="nofollow noopener">Booking.com</a>\n            </ins>\n        </div>'}[t]||""}(this.widget_type,t)}},{key:"compileScript",value:function(){var t=document.createElement("script");t.innerHTML='\n            (function(d, sc, u) {\n                var s = d.createElement(sc), p = d.getElementsByTagName(sc)[0]; s.type = \'text/javascript\';\n                s.async = true;\n                s.src = u + \'?v=\' + (+new Date());\n                p.parentNode.insertBefore(s,p);\n            })(document, \'script\', \'https://aff.bstatic.com/static/affiliate_base/js/flexiproduct.js\');\n            dataLayer.push({\n                "c2a" : "hotels",\n                "event" : "hotelc2a-hcsearch-imp",\n                "eventLabel": "BK2"\n            });',document.getElementsByTagName("head")[0].appendChild(t)}},{key:"trace",value:function(){this.initSets();for(var t=this.hotelcBlock.result.querySelectorAll(".hotelc__table--avg--link"),e=t.length,n=0;n<e;n++){var o=t[n].dataset.label;this.recordHotelLabelPaEvent("imps",o)}}},{key:"initGoogleAnalytics",value:function(){oo(e.prototype.__proto__||nn(e.prototype),"initGoogleAnalytics",this).call(this),this.contentGaGroup()}},{key:"initSets",value:function(){this.initGoogleAnalytics(),this.initDomElement(),this.initDate()}},{key:"bindEvent",value:function(t){var n=this;t.addEventListener("click",function(t){var o,i=t.target;if(n.hotelcBlock.result.contains(i)&&!i.classList.contains("hotelc__notes")){var r="other";if(n.hotelcBlock.hotels.contains(i)){var a={hotelc__img:"image",hotelc__info__name:"title",hotelc__info__rating:"description",hotelc__info__place:"description",hotelc__logo:"description",hotelc__price:"description",hotelc__compare:"description"},c=(n.findAncestor(i,"hotelc__table--avg--link").dataset||{}).name;for(var s in a)if(0<=i.className.indexOf(s)){r=a[s];break}oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,"".concat(n.click_link,"?position=").concat(r,"&extra=").concat(c))}switch(i.id){case"hotelc-info":return n.recordGaEvent("導流 click","click_hotel info"),void n.recordHotelcPaEvent("click_hotel info");case"hotelc-link--more":return o=n.isHotel?"click_hotel_more word":"click_hotel_more button",n.recordGaEvent("導流 click",o),n.recordHotelcPaEvent("click_button"),void oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,"".concat(n.click_link,"?position=button"));case"hotelc-link--more-price":return n.recordGaEvent("導流 click","click_price compare_button"),n.recordHotelcPaEvent("click_button"),void oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,"".concat(n.click_link,"?position=button"));case"hotelc-link--loading-continue":return void n.recordGaEvent("導流 click","click_Continue_loading");case"hotelc-link--fail-continue":return void n.recordGaEvent("導流 click","click_Continue_nodata")}if("hotelc-powerby__img"===i.className)return n.recordGaEvent("導流 click","click_hclogo"),n.recordHotelcPaEvent("click_description"),void oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,"".concat(n.click_link,"?position=description"));var l=i.dataset.label;o=n.isHotel?"click_price compare":"click_hotel_list",n.recordGaEvent("導流 click",o,l),n.recordHotelcPaEvent("click_"+r),oo(e.prototype.__proto__||nn(e.prototype),"recordPaEvent",n).call(n,"click")}}),this.bindInputBtn();window.addEventListener("scroll",function o(){window.requestAnimationFrame(function(){t.offsetTop<window.pageYOffset+window.screen.height&&t.offsetTop+t.offsetHeight>window.pageYOffset&&(oo(e.prototype.__proto__||nn(e.prototype),"sendTrackEvent",n).call(n,n.pv_link),oo(e.prototype.__proto__||nn(e.prototype),"recordPaEvent",n).call(n,"imps"),n.recordHotelcPaEvent("imps"),n.recordGaEvent("scroll_into_view","scroll_into_view"),window.removeEventListener("scroll",o))})},!!this.supportsPassive&&{passive:!0})}},{key:"findAncestor",value:function(t,e){if(t.classList.contains(e))return t;for(;(t=t.parentElement||t)&&!t.classList.contains(e););return t}},{key:"contentGaGroup",value:function(){var t=this.isHotel?"Hotel Compare Prices":"Hotel Recommend";ga("".concat(this.gaName,".set"),"contentGroup1",this.platform_data.name_en),ga("".concat(this.gaName,".set"),"contentGroup2",t)}},{key:"initDomElement",value:function(){this.inputBtn={fake:document.getElementsByClassName("hotelc__date-btn__date"),true:document.getElementsByClassName("hotelc__date-input")},this.links=document.getElementsByClassName("hotelc-links"),this.hotelcBlock={info:document.getElementsByClassName("hotelc__info")[0],loading:document.getElementsByClassName("hotelc__loading")[0],result:document.getElementsByClassName("hotelc__result")[0],fail:document.getElementsByClassName("hotelc__nodata")[0],hotels:document.getElementsByClassName("hotelc__result__list")[0]}}},{key:"initDate",value:function(){var t=this,e=function(e){var n=function(t){var e="; ".concat(document.cookie).split("; ".concat(t,"="));if(2===e.length)return e[1].split(";")[0];return!1}(e);return n&&n>t.defaultDate[e]?n:t.defaultDate[e]};this.changeHotelcDate(e("hotelcCheckin"),e("hotelcCheckout")),this.inputBtn.true[0].value=this.platform_data.date.checkin,this.inputBtn.true[1].value=this.platform_data.date.checkout,this.changeDateZh(0,this.platform_data.date.checkin),this.changeDateZh(1,this.platform_data.date.checkout)}},{key:"getHotelData",value:function(){var t,e,n=this,o={a_aid:132653,checkin_date:this.platform_data.date.checkin,checkout_date:this.platform_data.date.checkout,label:this.label};this.isHotel?(o.type="hotel",o.hotel_name=tn(this.platform_data.name_en)):(o.type="place",o.hotel_place=tn(this.platform_data.area_en),o.limit=this.widget_content.item_count||3),(t="https://hotels-collaborate.events.pixnet.net/api/hotelscombined.php",e=o,new ze(function(n,o){var i=new XMLHttpRequest,r="".concat(t,"?a_aid=").concat(e.a_aid,"&type=").concat(e.type,"&checkin_date=").concat(e.checkin_date,"&checkout_date=").concat(e.checkout_date,"&label=").concat(e.label,"&");r+="hotel"===e.type?"hotel_name=".concat(e.hotel_name):"hotel_place=".concat(e.hotel_place,"&limit=").concat(e.limit),i.open("GET",r,!0),i.onload=function(){200===i.status?n(i.response):o(i)},i.onerror=function(){o(i)},i.send()})).then(function(t){var e=JSON.parse(t);n.isHotel&&e.order_info?n.showResult(e.order_info):e.hotels&&Array.isArray(e.hotels)?n.showResult(e.hotels):n.changeState("nodata")},function(){n.changeState("fail")})}},{key:"changeState",value:function(t){var e=this;"loading"!==t&&this.traceResult[t]();"nodata"===t&&(t="fail"),e.hotelcBlock[e.stateNow].style.display="none",e.stateNow=t,e.hotelcBlock[t].style.display="block"}},{key:"showResult",value:function(t){var e="",n=t.length;if(this.isHotel){for(var o=0;o<n;o++){var i='<li class="hotelc__table--highline hotelc__table--highline--red">\n                        <a class="hotelc__table--avg hotelc__table--avg--link hotelc__table--avg--inside-border hotelc__table--avg--60" href="'.concat(t[o].book_url,'" target="_blank" data-label="1-').concat(s(t[o].logo),"-").concat(this.platform_data.name_tw,'" data-name="').concat(t[o].name,'">\n                            <div>\n                                <div class="hotelc__logo" style="background-image: url(\'').concat(t[o].logo,'\')"></div>\n                            </div>\n                            <div>\n                                <div class="hotelc__price hotelc__price--red">NT$<span>').concat(c(t[o].price),'</span></div>\n                            </div>\n                    </li>\n                    <a class="hotelc__btn hotelc__btn--red" id="hotelc-link--more-price" href="').concat(t[o].book_url,'" target="_blank">').concat(this.widget_content.button_name,'\n                        <svg class="icon-arrow--right" viewBox="0 0 8 12"><use xlink:href="#icon-arrow--right"></use></svg>\n                    </a>');0<o&&(i='<li class="border-top-1">\n                            <a class="hotelc__table--avg hotelc__table--avg--link hotelc__table--avg--inside-border hotelc__table--avg--60" href="'.concat(t[o].book_url,'" target="_blank" data-label="').concat(o+1,"-").concat(s(t[o].logo),"-").concat(this.platform_data.name_tw,'">\n                                <div>\n                                    <div class="hotelc__logo" style="background-image: url(\'').concat(t[o].logo,'\')"></div>\n                                </div>\n                                <div>\n                                    <div class="hotelc__price">NT$<span>').concat(c(t[o].price),"</span></div>\n                                </div>\n                            </a>\n                        </li>")),"https://cdn.datahc.com/Images/providers/logos/"===t[o].logo&&(i=i.replace(" style=\"background-image: url('".concat(t[o].logo,"')\""),"")),e+=i}this.hotelcBlock.result.querySelectorAll(".hotelc__result__list")[0].innerHTML=e}else{for(var r=0;r<n;r++){var a='<li class="hotelc__result--multi border-top-1">\n                        <a class="hotelc__table--avg--link" href="'.concat(t[r].book_url,'" target="_blank" data-label="').concat(r+1,"-").concat(s(t[r].logo),"-").concat(t[r].name,'" data-name="').concat(t[r].name,'">\n                            <div class="hotelc__table--avg hotelc__table--avg--scale">\n                                <div>\n                                    <div class="full-width">\n                                        <img src="').concat(t[r].hotel_img,'" class="hotelc__img">\n                                    </div>\n                                </div>\n                                <div>\n                                    <div class="full-width wrap-normal">\n                                        <span class="hotelc__info__rating">網友評分：').concat(t[r].guest_rating,'</span>\n                                        <br>\n                                        <span class="hotelc__info__name">').concat(t[r].name,'</span>\n                                        <br>\n                                        <span class="hotelc__info__place">').concat(t[r].place_name,'</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="hotelc__table--avg hotelc__table--avg--inside-border hotelc__table--avg--60">\n                                <div>\n                                    <div class="hotelc__logo" style="background-image: url(\'').concat(t[r].logo,'\')"></div>\n                                </div>\n                                <div>\n                                    <div class="text-right nowrap">\n                                        <div class="hotelc__price hotelc__price--green">NT$<span>').concat(c(t[r].price),'</span>\n                                            <svg class="icon-arrow--right" viewBox="0 0 8 12">\n                                                <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-arrow--right"></use>\n                                            </svg>\n                                        </div>\n                                        <div class="hotelc__compare">比較 ').concat(t[r].providers_num," 個網站最低價</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </a>\n                    </li>");t[r].hotel_img||(a=a.replace('<img src="'.concat(t[r].hotel_img,'">'),"")),"https://cdn.datahc.com/Images/providers/logos/"===t[r].logo&&(a=a.replace(" style=\"background-image: url('".concat(t[r].logo,"')\""),"")),e+=a}this.hotelcBlock.result.querySelectorAll("ul")[0].innerHTML=e}function c(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function s(t){var e=t.split("/");return e=e[e.length-1].split("-")[0].split(".")[0]}this.changeState("result")}},{key:"bindInputBtn",value:function(){var t=this,e=function(){var e=t.inputBtn.true[0].value,n=t.inputBtn.true[1].value;t.todayStr<=e&&e<n&&(t.changeHotelcDate(e,n),t.changeState("loading"),setTimeout(function(){t.getHotelData()},500))};e();var n=function n(){var i=t.inputBtn.true[1].value,r=!isNaN(new Date(i).getTime()),a=t.inputBtn.true[1].getAttribute("min"),c=new Date(new Date(i).getTime()-864e5),s=t.formateDate(c);r?(t.changeDateZh(1,t.inputBtn.true[1].value),t.inputBtn.true[0].value>=i?(t.inputBtn.true[0].value=s,o()):e()):(t.inputBtn.true[1].value=a,t.changeDateZh(1,t.today),n())},o=function o(){var i=t.inputBtn.true[0].value,r=!isNaN(new Date(i).getTime()),a=new Date(new Date(i).getTime()+864e5),c=t.formateDate(a);!r||t.todayStr>i?(t.inputBtn.true[0].value=t.todayStr,t.changeDateZh(0,t.today),o()):(t.changeDateZh(0,i),t.inputBtn.true[1].setAttribute("min",c),t.inputBtn.true[1].value<=i?(t.inputBtn.true[1].value=c,n()):e())};this.inputBtn.fake[0].addEventListener("click",function(){t.inputBtn.true[0].click(),t.inputBtn.true[0].focus(),t.recordGaEvent("互動 click","check in"),t.recordHotelcPaEvent("click_check in")}),this.inputBtn.fake[1].addEventListener("click",function(){t.inputBtn.true[1].click(),t.inputBtn.true[1].focus(),t.recordGaEvent("互動 click","check out"),t.recordHotelcPaEvent("click_check out")}),this.inputBtn.true[0].addEventListener("change",o),this.inputBtn.true[1].addEventListener("change",n)}},{key:"changeHotelcDate",value:function(t,e){for(var n=this,o=function(t,e){if(/^(\d{4})-(\d{2})-(\d{2})$/.test(e)&&!isNaN(new Date(e).getTime())){var o=(new Date).setTime(n.today.getTime()+6048e5);document.cookie="".concat(t,"=").concat(e,";domain=.pixnet.net;path=/;expires=").concat(new Date(o).toGMTString())}},i="checkin=".concat(this.platform_data.date.checkin,"&checkout=").concat(this.platform_data.date.checkout),r="checkin=".concat(t,"&checkout=").concat(e),a=this.links.length,c=0;c<a;c++){var s=this.links[c].getAttribute("href").replace(i,r);this.links[c].setAttribute("href",s)}this.platform_data.date.checkin=t,this.platform_data.date.checkout=e,o("hotelcCheckin",t),o("hotelcCheckout",e)}},{key:"changeDateZh",value:function(t,e){var n=new Date(e);this.inputBtn.fake[t].querySelectorAll("span")[0].textContent="".concat(n.getFullYear()," 年 ").concat(n.getMonth()+1," 月 ").concat(n.getDate()," 日")}},{key:"formateDate",value:function(t){var e=t.getFullYear(),n="0".concat(t.getMonth()+1).slice(-2),o="0".concat(t.getDate()).slice(-2);return"".concat(e,"-").concat(n,"-").concat(o)}},{key:"recordGaEvent",value:function(t,e,n){ga("".concat(this.gaName,".send"),"event",t,e,n)}},{key:"recordHotelcPaEvent",value:function(t){var e=this.isHotel?"Hotel Compare Prices":"Hotel Recommend";_piq.push(["trackEvent",e,t,this.label])}},{key:"recordHotelLabelPaEvent",value:function(t,e){_piq.push(["trackEvent","octopusHotelLabel",t,"".concat(this.label,":::").concat(e)])}}]),e}(),Lo=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Ze(this,t),this.categoryId="",this.octopusTags=[],this.articleTitle="",this.widgetParams="",this.fuzzyWidgetParams="",this.articleTitle="",this.octopusDom={},this.projectId=Je("project_id")||"",this.isPreview=!!this.projectId,this.zone1=[],this.zone2=[],this.zone3=[],this.activeCta="",this.activeRp="",this.init(e)}var e;return Ve(t,[{key:"init",value:function(t){this.setConfig(t),this.serializeData()}},{key:"setConfig",value:function(t){var e=this;t.map(function(t){var n=t[0],o=t[1];n in e&&"function"!=typeof o&&(e[n]=o)})}},{key:"serializeData",value:function(){this.fuzzyWidgetParams="?category_id=".concat(this.categoryId,"&article_title=").concat(this.articleTitle,"&project_id=").concat(encodeURIComponent(this.projectId)),this.widgetParams=this.octopusTags.map(function(t){return"tags[]=".concat(encodeURIComponent(t))}).join("&"),this.widgetParams+="&category_id=".concat(this.categoryId,"&article_title=").concat(this.articleTitle,"&project_id=").concat(encodeURIComponent(this.projectId))}},{key:"run",value:(e=Fe(a.mark(function t(){var e,n;return a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$e.get("https://octopus.pixanalytics.com/widgets/fuzzy"+this.fuzzyWidgetParams);case 3:if(e=t.sent,0!==this.octopusTags.length||this.isPreview){t.next=10;break}if(!e.error){t.next=8;break}return this.noMatchWidget(),t.abrupt("return");case 8:t.next=17;break;case 10:return t.next=12,$e.post("https://octopus.pixanalytics.com/widgets",this.widgetParams);case 12:if(n=t.sent,!e.error||!n.error){t.next=16;break}return this.noMatchWidget(),t.abrupt("return");case 16:this.addWidgets(n);case 17:this.addWidgets(e),this.generate(),t.next=23;break;case 21:t.prev=21,t.t0=t.catch(0);case 23:case"end":return t.stop()}},t,this,[[0,21]])})),function(){return e.apply(this,arguments)})},{key:"addWidgets",value:function(t){t.error||t.widgets&&(t.widgets.Zone1&&this.zone1.push(t.widgets.Zone1),t.widgets.Zone2&&this.zone2.push(t.widgets.Zone2),t.widgets.Zone3&&this.zone3.push(t.widgets.Zone3))}},{key:"generate",value:function(){var t=this.couldShowOctopus();t.zone1?this.setOctopusIntoZone(this.zone1,1):this.noMatchRelated(),t.zone2&&this.setOctopusIntoZone(this.zone2,2),t.zone3?this.setOctopusIntoZone(this.zone3,3):this.noMatchCta()}},{key:"setOctopusIntoZone",value:function(t,e){var n,o,i,r=(o=(n=t).map(function(t){return t.priority}).reduce(function(t,e){return Math.min(t,e)}),n.filter(function(t){return o===t.priority})),a=r[Math.floor(Math.random()*r.length)];switch(a.isPreview=this.isPreview,a.octopusTags=this.octopusTags,e){case 1:this.activeRp=a.widget_type,i=new Eo(a);break;case 2:i=new Co(a);break;case 3:this.activeCta=a.widget_type,i=new Po(a)}We(this.octopusDom).map(function(t){t.dataset.zone===e.toString()&&"done"!==t.dataset.process&&(t.innerHTML=i.compileHtml(),i.trace(),i.bindEvent(t),t.dataset.process="done")})}},{key:"couldShowOctopus",value:function(){var t={zone1:!0,zone2:!0,zone3:!0};return We(this.octopusDom).some(function(t){return"1"===t.dataset.zone})||(t.zone1=!1),We(this.octopusDom).some(function(t){return"2"===t.dataset.zone})||(t.zone2=!1),We(this.octopusDom).some(function(t){return"3"===t.dataset.zone})||(t.zone3=!1),0===this.zone1.length&&(t.zone1=!1),0===this.zone2.length&&(t.zone2=!1),0===this.zone3.length&&(t.zone3=!1),"cta_diy"===this.activeCta&&(t.zone3=!1),t}},{key:"noMatchRelated",value:function(){this.activeRp="ctaRelated"}},{key:"noMatchCta",value:function(){this.activeCta=this.activeCta||"eztableOrHotels"}},{key:"noMatchWidget",value:function(){this.noMatchRelated(),this.noMatchCta()}},{key:"getActiveOctopus",value:function(){return{activeRp:this.activeRp,activeCta:this.activeCta}}}]),t}();(Oo=Fe(a.mark(function t(e){var n;return a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Lo(e._oq),t.next=3,n.run();case 3:e.pix.activeRp=n.getActiveOctopus().activeRp,e.pix.activeCta=n.getActiveOctopus().activeCta;case 5:case"end":return t.stop()}},t,this)})),function(t){return Oo.apply(this,arguments)})(window),window.OctopusSDK=Lo}();
