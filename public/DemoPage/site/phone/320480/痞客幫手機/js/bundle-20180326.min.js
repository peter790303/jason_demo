(function($){var selectors=[];var check_binded=false;var check_lock=false;var defaults={interval:250,force_process:false};var $window=$(window);var $prior_appeared;function process(){check_lock=false;for(var index=0;index<selectors.length;index++){var $appeared=$(selectors[index]).filter(function(){return $(this).is(":appeared")});$appeared.trigger("appear",[$appeared]);if($prior_appeared){var $disappeared=$prior_appeared.not($appeared);$disappeared.trigger("disappear",[$disappeared])}$prior_appeared=$appeared}}$.expr[":"]["appeared"]=function(element){var $element=$(element);if(!$element.is(":visible")){return false}var window_left=$window.scrollLeft();var window_top=$window.scrollTop();var offset=$element.offset();var left=offset.left;var top=offset.top;if(top+$element.height()>=window_top&&top-($element.data("appear-top-offset")||0)<=window_top+$window.height()&&left+$element.width()>=window_left&&left-($element.data("appear-left-offset")||0)<=window_left+$window.width()){return true}else{return false}};$.fn.extend({appear:function(options){var opts=$.extend({},defaults,options||{});var selector=this.selector||this;if(!check_binded){var on_check=function(){if(check_lock){return}check_lock=true;setTimeout(process,opts.interval)};$(window).scroll(on_check).resize(on_check);check_binded=true}if(opts.force_process){setTimeout(process,opts.interval)}selectors.push(selector);return $(selector)}});$.extend({force_appear:function(){if(check_binded){process();return true}return false}})})(jQuery);
(function($){function Collapse(el,options){options=options||{};var _this=this,query=options.query||"> :even";$.extend(_this,{$el:el,options:options,sections:[],isAccordion:options.accordion||false,db:options.persist?jQueryCollapseStorage(el[0].id):false});_this.states=_this.db?_this.db.read():[];_this.$el.find(query).each(function(){var section=new Section($(this),_this);_this.sections.push(section);var state=_this.states[section._index()];if(state===0){section.$summary.removeClass("open")}if(state===1){section.$summary.addClass("open")}if(section.$summary.hasClass("open")){section.open(true)}else{section.close(true)}});(function(scope){_this.$el.on("click","[data-collapse-summary]",$.proxy(_this.handleClick,scope))})(_this)}Collapse.prototype={handleClick:function(e){e.preventDefault();var sections=this.sections,l=sections.length;while(l--){if($.contains(sections[l].$summary[0],e.target)){sections[l].toggle();break}}},open:function(eq){if(isFinite(eq))return this.sections[eq].open();$.each(this.sections,function(){this.open()})},close:function(eq){if(isFinite(eq))return this.sections[eq].close();$.each(this.sections,function(){this.close()})}};function Section($el,parent){$.extend(this,{isOpen:false,$summary:$el.attr("data-collapse-summary","").wrapInner('<a href="#"/>'),$details:$el.next(),options:parent.options,parent:parent})}Section.prototype={toggle:function(){if(this.isOpen)this.close();else this.open()},close:function(bypass){this._changeState("close",bypass)},open:function(bypass){var _this=this;if(_this.options.accordion&&!bypass){$.each(_this.parent.sections,function(){this.close()})}_this._changeState("open",bypass)},_index:function(){return $.inArray(this,this.parent.sections)},_changeState:function(state,bypass){var _this=this;_this.isOpen=state=="open";if($.isFunction(_this.options[state])&&!bypass){_this.options[state].apply(_this.$details)}else{if(_this.isOpen)_this.$details.show();else _this.$details.hide()}_this.$summary.removeClass("open close").addClass(state);_this.$details.attr("aria-hidden",state=="close");_this.parent.$el.trigger(state,_this);if(_this.parent.db){_this.parent.db.write(_this._index(),_this.isOpen)}}};$.fn.extend({collapse:function(options,scan){var nodes=scan?$("body").find("[data-collapse]"):$(this);return nodes.each(function(){var settings=scan?{}:options,values=$(this).attr("data-collapse")||"";$.each(values.split(" "),function(i,v){if(v)settings[v]=true});new jQueryCollapse($(this),settings)})}});$(function(){$.fn.collapse(false,true)});jQueryCollapse=Collapse})(window.jQuery);
jQuery.cookie=function(name,value,options){if(typeof value!="undefined"){options=options||{};if(value===null){value="";options=jQuery.extend({},options);options.expires=-1}var expires="";if(options.expires&&(typeof options.expires=="number"||options.expires.toUTCString)){var date;if(typeof options.expires=="number"){date=new Date;date.setTime(date.getTime()+options.expires*24*60*60*1e3)}else{date=options.expires}expires="; expires="+date.toUTCString()}var path=options.path?"; path="+options.path:"";var domain=options.domain?"; domain="+options.domain:"";var secure=options.secure?"; secure":"";document.cookie=[name,"=",encodeURIComponent(value),expires,path,domain,secure].join("")}else{var cookieValue=null;if(document.cookie&&document.cookie!=""){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==name+"="){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}}return cookieValue}};
(function(){function createHeadTag(){var styleNode=document.createElement("style");styleNode.className="localscrollfix-head";document.head.appendChild(styleNode);return styleNode}function addStyleText(cssText){var head=document.querySelector(".localscrollfix-head");if(head===null){head=createHeadTag()}head.appendChild(document.createTextNode(cssText))}function isIos(){var UA=window.navigator.userAgent;return/(iPad).*OS\s([\d_]+)/.test(UA)||/(iPod)(.*OS\s([\d_]+))?/.test(UA)||/(iPhone\sOS)\s([\d_]+)/.test(UA)}var LocalScrollFix=function(win){var startTopScroll;win=typeof win==="string"?document.querySelector(win):win;if(!win||win===window||!isIos()){return}var winStyles=window.getComputedStyle(win,null);var borderWidth=parseFloat(winStyles.borderBottomWidth)+parseFloat(winStyles.borderTopWidth)+1;var unique="localscrollfix-"+Date.now()+~~(Math.random()*1e7);win.setAttribute(unique,"");addStyleText("["+unique+']:before {content:"";width: 1px;display: block;float: left;height: -webkit-calc(100% + '+borderWidth+"px);height: calc(100% + "+borderWidth+"px);margin-left: -1px;}"+"["+unique+']:after {content:"";display: block;width: 100%;clear: both;}');function scrollTopHandler(){startTopScroll=win.scrollTop;if(startTopScroll<1){win.scrollTop=1;return}if(startTopScroll+win.offsetHeight>=win.scrollHeight){win.scrollTop=win.scrollHeight-win.offsetHeight-1;if(win.scrollTop<1){win.scrollTop=1}}}var enableScroll=true;var onTouchStartWin=function(){enableScroll=true;scrollTopHandler()};win.addEventListener("touchstart",onTouchStartWin,false);var onScrollWin=function(){clearTimeout(this.timer);this.timer=setTimeout(function(){if(enableScroll){scrollTopHandler();enableScroll=false}},150)};win.addEventListener("scroll",onScrollWin);if(win.scrollTop<1){win.scrollTop=1}return{destroy:function(){win.removeEventListener("touchstart",onTouchStartWin,false);win.removeEventListener("scroll",onScrollWin)}}};if(typeof window!="undefined"&&typeof module=="undefined"){window.LocalScrollFix=LocalScrollFix}else{module.exports=LocalScrollFix}})();
(function(c,b){var a=a||function(k){var f={element:null,dragger:null,disable:"none",addBodyClasses:true,hyperextensible:true,resistance:.5,flickThreshold:50,transitionSpeed:.3,easing:"ease",maxPosition:266,minPosition:-266,tapToClose:true,touchToDrag:true,slideIntent:40,minDragDistance:5},e={simpleStates:{opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},h={},d={hasTouch:b.ontouchstart===null,eventType:function(m){var l={down:d.hasTouch?"touchstart":"mousedown",move:d.hasTouch?"touchmove":"mousemove",up:d.hasTouch?"touchend":"mouseup",out:d.hasTouch?"touchcancel":"mouseout"};return l[m]},page:function(l,m){return d.hasTouch&&m.touches.length&&m.touches[0]?m.touches[0]["page"+l]:m["page"+l]},klass:{has:function(m,l){return m.className.indexOf(l)!==-1},add:function(m,l){if(!d.klass.has(m,l)&&f.addBodyClasses){m.className+=" "+l}},remove:function(m,l){if(f.addBodyClasses){m.className=m.className.replace(l,"").replace(/^\s+|\s+$/g,"")}}},dispatchEvent:function(l){if(typeof h[l]==="function"){return h[l].call()}},vendor:function(){var m=b.createElement("div"),n="webkit Moz O ms".split(" "),l;for(l in n){if(typeof m.style[n[l]+"Transition"]!=="undefined"){return n[l]}}},transitionCallback:function(){return e.vendor==="Moz"||e.vendor==="ms"?"transitionend":e.vendor+"TransitionEnd"},canTransform:function(){return typeof f.element.style[e.vendor+"Transform"]!=="undefined"},deepExtend:function(l,n){var m;for(m in n){if(n[m]&&n[m].constructor&&n[m].constructor===Object){l[m]=l[m]||{};d.deepExtend(l[m],n[m])}else{l[m]=n[m]}}return l},angleOfDrag:function(l,o){var n,m;m=Math.atan2(-(e.startDragY-o),e.startDragX-l);if(m<0){m+=2*Math.PI}n=Math.floor(m*(180/Math.PI)-180);if(n<0&&n>-180){n=360-Math.abs(n)}return Math.abs(n)},events:{addEvent:function g(m,l,n){if(m.addEventListener){return m.addEventListener(l,n,false)}else{if(m.attachEvent){return m.attachEvent("on"+l,n)}}},removeEvent:function g(m,l,n){if(m.addEventListener){return m.removeEventListener(l,n,false)}else{if(m.attachEvent){return m.detachEvent("on"+l,n)}}},prevent:function(l){if(l.preventDefault){l.preventDefault()}else{l.returnValue=false}}},parentUntil:function(n,l){var m=typeof l==="string";while(n.parentNode){if(m&&n.getAttribute&&n.getAttribute(l)){return n}else{if(!m&&n===l){return n}}n=n.parentNode}return null}},i={translate:{get:{matrix:function(n){if(!d.canTransform()){return parseInt(f.element.style.left,10)}else{var m=c.getComputedStyle(f.element)[e.vendor+"Transform"].match(/\((.*)\)/),l=8;if(m){m=m[1].split(",");if(m.length===16){n+=l}return parseInt(m[n],10)}return 0}}},easeCallback:function(){f.element.style[e.vendor+"Transition"]="";e.translation=i.translate.get.matrix(4);e.easing=false;clearInterval(e.animatingInterval);if(e.easingTo===0){d.klass.remove(b.body,"snapjs-right");d.klass.remove(b.body,"snapjs-left")}d.dispatchEvent("animated");d.events.removeEvent(f.element,d.transitionCallback(),i.translate.easeCallback)},easeTo:function(l){if(!d.canTransform()){e.translation=l;i.translate.x(l)}else{e.easing=true;e.easingTo=l;f.element.style[e.vendor+"Transition"]="all "+f.transitionSpeed+"s "+f.easing;e.animatingInterval=setInterval(function(){d.dispatchEvent("animating")},1);d.events.addEvent(f.element,d.transitionCallback(),i.translate.easeCallback);i.translate.x(l)}if(l===0){f.element.style[e.vendor+"Transform"]=""}},x:function(m){if(f.disable==="left"&&m>0||f.disable==="right"&&m<0){return}if(!f.hyperextensible){if(m===f.maxPosition||m>f.maxPosition){m=f.maxPosition}else{if(m===f.minPosition||m<f.minPosition){m=f.minPosition}}}m=parseInt(m,10);if(isNaN(m)){m=0}if(d.canTransform()){var l="translate3d("+m+"px, 0,0)";f.element.style[e.vendor+"Transform"]=l}else{f.element.style.width=(c.innerWidth||b.documentElement.clientWidth)+"px";f.element.style.left=m+"px";f.element.style.right=""}}},drag:{listen:function(){e.translation=0;e.easing=false;d.events.addEvent(f.element,d.eventType("down"),i.drag.startDrag);d.events.addEvent(f.element,d.eventType("move"),i.drag.dragging);d.events.addEvent(f.element,d.eventType("up"),i.drag.endDrag)},stopListening:function(){d.events.removeEvent(f.element,d.eventType("down"),i.drag.startDrag);d.events.removeEvent(f.element,d.eventType("move"),i.drag.dragging);d.events.removeEvent(f.element,d.eventType("up"),i.drag.endDrag)},startDrag:function(n){var m=n.target?n.target:n.srcElement,l=d.parentUntil(m,"data-snap-ignore");if(l){d.dispatchEvent("ignore");return}if(f.dragger){var o=d.parentUntil(m,f.dragger);if(!o&&(e.translation!==f.minPosition&&e.translation!==f.maxPosition)){return}}d.dispatchEvent("start");f.element.style[e.vendor+"Transition"]="";e.isDragging=true;e.hasIntent=null;e.intentChecked=false;e.startDragX=d.page("X",n);e.startDragY=d.page("Y",n);e.dragWatchers={current:0,last:0,hold:0,state:""};e.simpleStates={opening:null,towards:null,hyperExtending:null,halfway:null,flick:null,translation:{absolute:0,relative:0,sinceDirectionChange:0,percentage:0}}},dragging:function(s){if(e.isDragging&&f.touchToDrag){var v=d.page("X",s),u=d.page("Y",s),t=e.translation,o=i.translate.get.matrix(4),n=v-e.startDragX,p=o>0,q=n,w;if(e.intentChecked&&!e.hasIntent){return}if(f.addBodyClasses){if(o>0){d.klass.add(b.body,"snapjs-left");d.klass.remove(b.body,"snapjs-right")}else{if(o<0){d.klass.add(b.body,"snapjs-right");d.klass.remove(b.body,"snapjs-left")}}}if(e.hasIntent===false||e.hasIntent===null){var m=d.angleOfDrag(v,u),l=m>=0&&m<=f.slideIntent||m<=360&&m>360-f.slideIntent,r=m>=180&&m<=180+f.slideIntent||m<=180&&m>=180-f.slideIntent;if(!r&&!l){e.hasIntent=false}else{e.hasIntent=true}e.intentChecked=true}if(f.minDragDistance>=Math.abs(v-e.startDragX)||e.hasIntent===false){return}d.events.prevent(s);d.dispatchEvent("drag");e.dragWatchers.current=v;if(e.dragWatchers.last>v){if(e.dragWatchers.state!=="left"){e.dragWatchers.state="left";e.dragWatchers.hold=v}e.dragWatchers.last=v}else{if(e.dragWatchers.last<v){if(e.dragWatchers.state!=="right"){e.dragWatchers.state="right";e.dragWatchers.hold=v}e.dragWatchers.last=v}}if(p){if(f.maxPosition<o){w=(o-f.maxPosition)*f.resistance;q=n-w}e.simpleStates={opening:"left",towards:e.dragWatchers.state,hyperExtending:f.maxPosition<o,halfway:o>f.maxPosition/2,flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:e.dragWatchers.current-e.dragWatchers.hold,percentage:o/f.maxPosition*100}}}else{if(f.minPosition>o){w=(o-f.minPosition)*f.resistance;q=n-w}e.simpleStates={opening:"right",towards:e.dragWatchers.state,hyperExtending:f.minPosition>o,halfway:o<f.minPosition/2,flick:Math.abs(e.dragWatchers.current-e.dragWatchers.hold)>f.flickThreshold,translation:{absolute:o,relative:n,sinceDirectionChange:e.dragWatchers.current-e.dragWatchers.hold,percentage:o/f.minPosition*100}}}i.translate.x(q+t)}},endDrag:function(m){if(e.isDragging){d.dispatchEvent("end");var l=i.translate.get.matrix(4);if(e.dragWatchers.current===0&&l!==0&&f.tapToClose){d.dispatchEvent("close");d.events.prevent(m);i.translate.easeTo(0);e.isDragging=false;e.startDragX=0;return}if(e.simpleStates.opening==="left"){if(e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick){if(e.simpleStates.flick&&e.simpleStates.towards==="left"){i.translate.easeTo(0)}else{if(e.simpleStates.flick&&e.simpleStates.towards==="right"||(e.simpleStates.halfway||e.simpleStates.hyperExtending)){i.translate.easeTo(f.maxPosition)}}}else{i.translate.easeTo(0)}}else{if(e.simpleStates.opening==="right"){if(e.simpleStates.halfway||e.simpleStates.hyperExtending||e.simpleStates.flick){if(e.simpleStates.flick&&e.simpleStates.towards==="right"){i.translate.easeTo(0)}else{if(e.simpleStates.flick&&e.simpleStates.towards==="left"||(e.simpleStates.halfway||e.simpleStates.hyperExtending)){i.translate.easeTo(f.minPosition)}}}else{i.translate.easeTo(0)}}}e.isDragging=false;e.startDragX=d.page("X",m)}}}},j=function(l){if(l.element){d.deepExtend(f,l);e.vendor=d.vendor();i.drag.listen()}};this.open=function(l){d.dispatchEvent("open");d.klass.remove(b.body,"snapjs-expand-left");d.klass.remove(b.body,"snapjs-expand-right");if(l==="left"){e.simpleStates.opening="left";e.simpleStates.towards="right";d.klass.add(b.body,"snapjs-left");d.klass.remove(b.body,"snapjs-right");i.translate.easeTo(f.maxPosition)}else{if(l==="right"){e.simpleStates.opening="right";e.simpleStates.towards="left";d.klass.remove(b.body,"snapjs-left");d.klass.add(b.body,"snapjs-right");i.translate.easeTo(f.minPosition)}}};this.close=function(){d.dispatchEvent("close");i.translate.easeTo(0)};this.expand=function(l){var m=c.innerWidth||b.documentElement.clientWidth;if(l==="left"){d.dispatchEvent("expandLeft");d.klass.add(b.body,"snapjs-expand-left");d.klass.remove(b.body,"snapjs-expand-right")}else{d.dispatchEvent("expandRight");d.klass.add(b.body,"snapjs-expand-right");d.klass.remove(b.body,"snapjs-expand-left");m*=-1}i.translate.easeTo(m)};this.on=function(l,m){h[l]=m;return this};this.off=function(l){if(h[l]){h[l]=false}};this.enable=function(){d.dispatchEvent("enable");i.drag.listen()};this.disable=function(){d.dispatchEvent("disable");i.drag.stopListening()};this.settings=function(l){d.deepExtend(f,l)};this.state=function(){var l,m=i.translate.get.matrix(4);if(m===f.maxPosition){l="left"}else{if(m===f.minPosition){l="right"}else{l="closed"}}return{state:l,info:e.simpleStates}};j(k)};if(typeof module!=="undefined"&&module.exports){module.exports=a}if(typeof ender==="undefined"){this.Snap=a}if(typeof define==="function"&&define.amd){define("snap",[],function(){return a})}}).call(this,window,document);
